/**
 * jQuery Link Prefetch Accelerator plugin
 * Load links before event click.
 *
 * Created by Yosef(Vlad) Kaminskyi
 * Githab source https://github.com/moledet/jQueryPrefetchLinkAccelerator
 * Mailto: moledet[at]ukr.net
 * Version:  1.0  on 20/09/2017.
 * Dependencies:
 *      jQuery https://jquery.com/
 */
!function(e){var t=function(t){var o={selector:"body",fetchMethod:"preload",debugMode:!1,disableLinkAccelerator:!1,disableFormAccelerator:!1,init:function(e){for(var t in e)o[t]=e[t];this.disableLinkAccelerator||this.attachLinkAccelarator(),this.disableFormAccelerator||this.attachFormAccelarator()},preCacheHit:function(e){var t=document.createElement("link");t.setAttribute("rel",o.fetchMethod),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)},attachFormAccelarator:function(){var t=o.selector;e(t).is("form")||(t+=" form"),t+=' button[type="submit"]',o.log('Forms selector: "'+t+'"'),e(t).on("mouseover",function(){var t=e(this).closest("form");console.dir(t.find("input")),console.log(t.serialize()),o.log("Form pre submit "+t.attr("action")),o.log("Form data to send "+t.serialize()),e.ajax({url:t.attr("action"),type:t.attr("method"),data:t.serialize(),cache:!0,success:function(e){o.log("From preFetched")}})})},attachLinkAccelarator:function(){var t=o.selector;e(t).is("a")||(t+=" a"),o.log('Links selector: "'+t+'"'),e(t).on("mouseover",function(t){o.log("Link mouse over");var r=e(this).attr("href");o.log(r),0!==r.indexOf("#")&&o.preCacheHit(r)})},log:function(){this.debugMode&&console.log(arguments)}};return o.init(t),o};e.fn.extend({accelerate:function(o){var r={selector:this.selector};return r=e.extend(r,o),new t(r)}})}(jQuery);